{% load static %}
<div class="modal fade" id="modalEdit{{ item.id }}" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content border-0 shadow-lg" style="border-radius: 20px; overflow: hidden;">

      <!-- HEADER -->
      <div class="modal-header border-0 p-4"
           style="background: linear-gradient(135deg, #0d4e5d 0%, #1a7a8c 100%);">
        <h5 class="modal-title fw-bold text-white">Editar Item</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>

      <form method="post" action="{% url 'editar_item' item.id %}" enctype="multipart/form-data">
        {% csrf_token %}

        <div class="modal-body p-4" style="background: #f8fdff;">

          <div class="row g-3">

            <div class="col-md-6">
              <label class="form-label fw-bold small text-muted text-uppercase">Título</label>
              <input type="text" name="titulo"
                     class="form-control border-info-subtle shadow-sm"
                     value="{{ item.titulo }}"
                     style="border-radius: 12px;">
            </div>

            <div class="col-md-6">
              <label class="form-label fw-bold small text-muted text-uppercase">Categoria</label>
              <select name="categoria"
                      class="form-select border-info-subtle shadow-sm"
                      style="border-radius: 12px;">
                {% for cat in categorias %}
                  <option value="{{ cat.id }}"
                    {% if item.categoria.id == cat.id %}selected{% endif %}>
                    {{ cat.nome }}
                  </option>
                {% endfor %}
              </select>
            </div>

            <div class="col-12">
              <label class="form-label fw-bold small text-muted text-uppercase">Descrição</label>
              <textarea name="descricao"
                        class="form-control border-info-subtle shadow-sm"
                        rows="3"
                        style="border-radius: 12px;">{{ item.descricao }}</textarea>
            </div>

            <div class="col-md-6">
              <label class="form-label fw-bold small text-muted text-uppercase">Status</label>
              <select name="status"
                      class="form-select border-info-subtle shadow-sm"
                      style="border-radius: 12px;">
                <option value="perdido" {% if item.status == 'perdido' %}selected{% endif %}>
                  Perdido
                </option>
                <option value="achado" {% if item.status == 'achado' %}selected{% endif %}>
                  Achado
                </option>
              </select>
            </div>

            <div class="col-md-6">
              <label class="form-label fw-bold small text-muted text-uppercase">Local</label>
              <input type="text" name="local"
                     class="form-control border-info-subtle shadow-sm"
                     value="{{ item.local }}"
                     style="border-radius: 12px;">
            </div>

            <div class="col-md-6">
              <label class="form-label fw-bold small text-muted text-uppercase">Data</label>
              <input type="date" name="data"
                     class="form-control border-info-subtle shadow-sm"
                     value="{{ item.data|date:'Y-m-d' }}"
                     style="border-radius: 12px;">
            </div>

            <div class="col-md-6">
              <label class="form-label fw-bold small text-muted text-uppercase">Imagem</label>
              <input type="file" name="imagem"
                     class="form-control border-info-subtle shadow-sm"
                     style="border-radius: 12px;">
            </div>

          </div>

        </div>

        <!-- FOOTER -->
        <div class="modal-footer border-0 p-4 pt-0" style="background: #f8fdff;">
          <button type="button"
                  class="btn btn-light px-4 fw-semibold"
                  data-bs-dismiss="modal"
                  style="border-radius: 15px;">
            Cancelar
          </button>

          <button type="submit"
                  class="btn text-white px-4 fw-bold shadow"
                  style="background: linear-gradient(to right, #0d4e5d, #1a7a8c);
                         border-radius: 15px; border: none;">
            Salvar Alterações
          </button>
        </div>

      </form>

    </div>
  </div>
</div>
